{% extends "layout.html" %}

{% block content %}
<div class="container">
  <h1>{{ goal.title }}</h1>

  <p><strong>Status:</strong> {{ goal.get_status_display }}</p>
  <p><strong>Description:</strong> {{ goal.description|default:"No description" }}</p>
  <p><strong>Deadline:</strong>
    {% if goal.deadline %}{{ goal.deadline|date:"F j, Y" }}{% else %}No deadline{% endif %}
  </p>

  <hr>
  <h3>Tasks (yours)</h3>
  <ul>
    {% for task in tasks %}
      <li>
        {{ task.title }} {% if task.is_done %}✅{% endif %}
        {% if task.due_date %} — due {{ task.due_date|date:"M d, Y" }}{% endif %}
          <a href="{% url 'goals:task_update' task.pk %}">edit</a>
      </li>
    {% empty %}
      <li>No tasks yet.</li>
    {% endfor %}
  </ul>

  <p>
    <button>
      <a class="btn btn-sm btn-primary" href="{% url 'goals:task_create' goal.id %}">Add task</a>
    </button>
    <button>
      <a class="btn btn-sm btn-secondary" href="{% url 'goals:goal_update' goal.pk %}">Edit goal</a>
    </button>
    <button>
      <a class="btn btn-sm btn-outline-dark" href="{% url 'goals:list' %}">Back to list</a>
    </button>
  </p>
</div>
{% endblock %}
